/*
 *  jquery-eclipsefdn-api - v0.0.14
 *  Fetch and display data from various Eclipse Foundation APIs.
 *  https://github.com/EclipseFdn/jquery-eclipsefdn-api
 *
 *  Made by Christopher Guindon
 *  Under MIT License
 *
 *  Thanks to https://github.com/jquery-boilerplate/jquery-boilerplate, MIT License Â© Zeno Rocha
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="eclipseFdnApi",g={apiUrl:"https://api.eclipse.org",gerritUrl:"https://git.eclipse.org/r",eventUrl:"https://events.eclipse.org/data/EclipseEvents.json",forumsUrl:"https://www.eclipse.org/forums",marketplaceUrl:"https://marketplace.eclipse.org",username:"cguindon",currentUser:"",contentPlaceholder:null,errorMsg:'<i class="fa red fa-exclamation-triangle" aria-hidden="true"></i> An unexpected error has occurred.',gerritUserNotFoundMsg:'<h2 class="h3">Outgoing Reviews</h2>There are no outgoing reviews for this user.<h2 class="h3">Incoming Reviews</h2>There are no incoming reviews for this account.',type:"",itemsPerPage:10};a.extend(e.prototype,{init:function(){var b=["mpFavorites","gerritReviews","recentEvents","forumsMsg","gerritReviewCount","projectsList"];"string"===a.type(this.settings.type)&&a.inArray(this.settings.type,b)!==-1&&this[this.settings.type]()},projectsList:function(){var b=this,c=this.settings.username,e=this.settings.apiUrl;if(!c&&!api_url)return!1;var f=e+"/account/profile/"+c+"/projects";a.ajax(f,{context:this.element,success:function(c){var e=Object.keys(c).length;if(e===d&&(e=0),a(this).attr({href:"https://projects.eclipse.org/"}),a(this).children("strong").text(e+b.plurialString(" project",e)),!(b.settings.contentPlaceholder instanceof jQuery))return!1;var f=a(b.settings.contentPlaceholder),g=a("<a></a>");f.append(a("<h2></h2>").addClass("h3").text("Eclipse Projects")),f.append('<p>Projects are the organizational unit for open source development work at the Eclipse Foundation. Projects have developers (committers), source code repositories, build servers, downloads, and other resources. The Eclipse Foundation\'s open source projects are governed by the <a href="https://eclipse.org/projects/dev_process/">Eclipse Development Process</a>.</p>');var h="This user is";if(b.settings.currentUser===b.settings.username&&(h="You are"),0===e)return f.append('<div class="alert alert-warning" role="alert">'+h+" not involved in any Eclipse Projects.</div>"),!1;var i=a("<table></table>").attr({width:"100%",class:"table"}),j=a("<tr></tr>"),k=a("<th></th>"),l=a("<td></td>");j.append(k.clone().text("Project").attr("width","85%")),j.append(k.clone().text("Relation").attr({width:"15%",class:"text-center"})),i.append(j),a.each(c,function(c,d){var e=[],f="",h="";a.each(d,function(a,b){e.push(b.Relation.Description),f=b.ProjectName,h=b.ActiveDate,""!==b.url&&(f=g.clone().attr({href:b.url}).text(f))}),j=a("<tr></tr>"),j.append(l.clone().html(f).append("<br/><small>Since: "+b.dateFormat(new Date(h))+"</small>")),j.append(l.clone().text(e.join(", ")).attr("class","text-center")),i.append(j)});var m=a("<div></div>").attr({class:"table-responsive"});m.append(i),f.append(m)},error:function(){a(this).html(b.settings.errorMsg)}})},forumsMsg:function(){function b(b){var c=a("#forum-posts");a.each(b.posts,function(d,e){var g={forum_id:e.thread_forum_id,forum_name:e.forum_name,forum_cat_id:e.forum_name,forum_cat_name:e.cat_name,root_subject:e.root_msg_subject,current_user_last_post_timestamp:e.msg_group_post_stamp,current_user_last_post_subject:e.last_user_msg_subject,thread_id:e.msg_thread_id,thread_reply_count:e.thread_replies,thread_views_count:e.thread_views,thread_last_post_date:e.thread_last_post_date,last_message_timestamp:e.last_msg_post_stamp,last_message_poster_id:e.last_msg_poster_id,last_message_poster_alias:e.last_poster_alias,last_message_last_view:e.read_last_view,current_user_id:b.id},h=a("<tr></tr>"),i=a("<td></td>"),j=a("<a></a>"),k=j.clone().attr({href:f.settings.forumsUrl+"/index.php/f/"+g.forum_id+"/"}).text(g.forum_name),l=j.clone().attr({href:f.settings.forumsUrl+"/index.php/i/"+g.forum_cat_id+"/"}).text(g.forum_cat_name),m=a("<small></small>").append("<br/>").append(l).append(" &gt; ").append(k).append(" &gt; ").append(g.root_subject).append("<br>Posted on "+f.dateFormat(new Date(parseInt(1e3*g.current_user_last_post_timestamp)))),n="fa fa-envelope-open-o";f.settings.currentUser===f.settings.username&&g.last_message_last_view<g.thread_last_post_date&&g.last_message_poster_id!==g.current_user_id&&(h.addClass("warning"),n="fa fa-envelope-o"),f.settings.currentUser===f.settings.username&&h.append(i.clone().html('<i class="'+n+'" aria-hidden="true"></i>').attr("class","text-center")),h.append(i.clone().html(j.clone().attr({href:f.settings.forumsUrl+"/index.php/t/"+g.thread_id+"/"}).text(g.current_user_last_post_subject)).append(m)),h.append(i.clone().text(g.thread_reply_count).attr("class","text-center")),h.append(i.clone().text(g.thread_views_count).attr("class","text-center"));var o=a("<small></small>").append(f.dateFormat(new Date(parseInt(1e3*g.last_message_timestamp)))).append("<br/> By: ").append(j.clone().attr({href:f.settings.forumsUrl+"/index.php/sp/"+g.last_message_poster_id+"/"}).text(g.last_message_poster_alias));h.append(i.clone().html(o).attr("class","text-center")),c.append(h)})}function c(a,b,c){e(b,c)}function e(c,d){"undefined"==typeof c&&(c=1),"undefined"==typeof d&&(d=f.settings.itemsPerPage);var e=h+"/account/profile/"+g+"/forum?page="+c+"&pagesize="+d;a.ajax(e,{context:f.element,success:function(a){b(a)},error:function(){a(this).html(f.settings.errorMsg)}})}var f=this,g=this.settings.username,h=this.settings.apiUrl;if(!g&&!api_url)return!1;var i=h+"/account/profile/"+g+"/forum?page=1&pagesize="+f.settings.itemsPerPage;a.ajax(i,{context:this.element,success:function(e,g,h){var i=0;if(e.posted_msg_count!==d&&(i=e.posted_msg_count,a(this).attr({href:f.settings.forumsUrl+"/index.php/sp/"+e.id+"/"})),a(this).children("strong").text(i+f.plurialString(" topic",i)),!(f.settings.contentPlaceholder instanceof jQuery))return!1;var j=a(f.settings.contentPlaceholder),k=a("<a></a>");j.append(a("<h2></h2>").addClass("h3").text("Eclipse Forums")),j.append(a("<p></p>").append("The Eclipse forums are your way of communicating with the community of people developing and using Eclipse-based tools hosted at Eclipse.org. Please stick to technical issues - and remember, no confidential information - these are public forums!"));var l=k.clone().attr({href:f.settings.forumsUrl,class:"btn btn-primary btn-sm",style:"display:block"}).html('<i class="fa fa-angle-double-right" aria-hidden="true"></i> More');if(0===e.length)return j.append('<div class="alert alert-warning" role="alert">This user does not have any activities on Eclipse Forums.</div>'),j.append(l),!1;var m=a("<table></table>").attr({width:"100%",class:"table",id:"forum-posts"}),n=a("<tr></tr>"),o=a("<th></th>");f.settings.currentUser===f.settings.username&&n.append(o.clone().attr("width","8%")),n.append(o.clone().text("Topics").attr("width","50%")),n.append(o.clone().text("Replies").attr({width:"8%",class:"text-center"})),n.append(o.clone().text("Views").attr({width:"8%",class:"text-center"})),n.append(o.clone().text("Last message").attr({class:"text-center"})),m.append(n);var p=a("<div></div>").attr({class:"table-responsive"});p.append(m),j.append(p),b(e);var q=new f.linkHeaderParser(h.getResponseHeader("Link")),r=q.getLastPageNum();q.getPageSize()!==f.settings.itemsPerPage&&(f.settings.itemsPerPage=q.getPageSize()),m.on("fetchPageItemsEvent",c),m.data("postsPerPage",f.settings.itemsPerPage),j.append(f.getPaginationBar(r*f.settings.itemsPerPage,"forum-posts"));var s=e.id;l.attr({href:f.settings.forumsUrl+"/index.php/sp/"+s+"/"}),j.append(l)},error:function(){a(this).html(f.settings.errorMsg)}})},mpFavorites:function(){function b(b){var c=e.settings.marketplaceUrl+"/node/"+b+"/api/p";a.ajax(c,{context:e.element,success:function(b){var c=a("#mpfavorites-list"),d=a("node",b);d.each(function(b,d){var f=a(d),g=f.find("shortdescription").text(),h=d.getAttribute("name"),i=f.find("changed").text(),j=f.find("owner").text(),k="Last Updated on "+e.dateFormat(new Date(parseInt(1e3*i)))+" by "+j,l=d.getAttribute("id"),m=a("#mp-listing-template").clone().removeClass("hidden").removeAttr("id"),n=a("<a></a>"),o=a("category",d),p=e.settings.marketplaceUrl+"/node/"+l,q=f.find("image").text(),r=n.clone().attr({href:p});o.each(function(a,b){var c=n.clone().attr({href:b.getAttribute("url")}).text(b.getAttribute("name"));o.length!==a+1&&c.append(", "),m.find(".content-categories").append(c)}),m.find(".listing-image").attr({href:p,style:"background:url('"+q+"') no-repeat center;"}),m.find(".drag").attr({href:e.settings.marketplaceUrl+"/marketplace-client-intro?mpc_install="+l}),m.find(".listing-title").html(r.clone().text(h)),m.find(".content-teaser").html(g),m.find(".content-last-updated").html(k),c.append(m)})},error:function(){a(this).html(e.settings.errorMsg)}})}function c(a,b,c){d(b,c)}function d(c,d){"undefined"==typeof c&&(c=1),"undefined"==typeof d&&(d=e.settings.itemsPerPage);var h=g+"/marketplace/favorites?name="+f+"&page="+c+"&pagesize="+d;a.ajax(h,{context:e.element,success:function(c){var d=[];a.each(c.mpc_favorites,function(a,b){d.push(b.content_id)}),b(d.join())},error:function(){a(this).html(e.settings.errorMsg)}})}var e=this,f=this.settings.username,g=this.settings.apiUrl;if(!f&&!api_url)return!1;if(e.settings.contentPlaceholder instanceof jQuery){var h=a(e.settings.contentPlaceholder),i=a("<a></a>").attr({href:e.settings.marketplaceUrl+"/user/"+f+"/favorites",class:"btn btn-primary btn-sm",style:"display:block"}).html('<i class="fa fa-angle-double-right" aria-hidden="true"></i> More');h.append(a("<h2></h2>").addClass("h3").text("Eclipse Marketplace Favorites")),h.append(a("<p></p>").append("Eclipse Marketplace is the source for Eclipse-based solutions, products and add-on features. Thousands of developers visit Marketplace on a monthly basis to find new and innovative solutions. Solution providers are encouraged to list their products on Marketplace to gain exposure to the Eclipse developer community."))}var j=g+"/marketplace/favorites?name="+f+"&page=1&pagesize="+e.settings.itemsPerPage;a.ajax(j,{context:this.element,success:function(d,f,g){if(a(this).children("strong").text(d.result.count+e.plurialString(" favorite",d.result.count)),"undefined"==typeof h)return!1;var j=[];if(a.each(d.mpc_favorites,function(a,b){j.push(b.content_id)}),0===j.length)return h.append('<div class="alert alert-warning" role="alert">There are no marketplace favorites for this user.</div>'),h.append(i),!1;var k=new e.linkHeaderParser(g.getResponseHeader("Link")),l=k.getLastPageNum();k.getPageSize()!==e.settings.itemsPerPage&&(e.settings.itemsPerPage=k.getPageSize()),h.on("fetchPageItemsEvent",c),h.append('<h3 id="mpc_list_name">'+d.mpc_list_name+"</h3>"),h.append('<div class="row"><div class="col-md-17"><div class="form-item form-type-textfield form-disabled"><label>Favorites URL <a href="#" class="install-user-favorites" data-container="body" data-toggle="popover" data-placement="top" title="" data-original-title="How to install?"><i class="fa fa-question-circle" aria-hidden="true"></i></a> </label><input disabled="true" class="form-control form-text" type="text" value="http://marketplace.eclipse.org/user/'+e.settings.username+'/favorites" size="60" maxlength="128"></div></div><div class="col-md-7 margin-top-25 text-right"><div class="drag_installbutton drag_installbutton_v2 drag-install-favorites"><a href="http://marketplace.eclipse.org/user/'+e.settings.username+'/favorites" class="drag" title="How to install?"><span class="btn btn-simple"><i class="fa fa-download orange"></i> Install Favorites</span><div class="tooltip tooltip-below-right"><h3>Drag to Install!</h3>Drag to your running Eclipse<sup>*</sup> workspace to install this favorite list. <br><sup>*</sup>Requires Eclipse Marketplace Client.</div></a></div></div></div>'),h.append('<div id="mpfavorites-list"></div>'),h.find("#mpfavorites-list").data("postsPerPage",e.settings.itemsPerPage),b(j.join()),h.append(e.getPaginationBar(l*e.settings.itemsPerPage,"mpfavorites-list")),h.append(i),a("a.install-user-favorites").on("click",function(a){a.preventDefault()}),a("a.install-user-favorites").popover({html:!0,content:function(){return a("<ol></ol>").addClass("padding-left-20").append("<li>Copy <strong>URL</strong> from textfield.</li>").append("<li>Open Eclipse Marketplace Client (MPC).</li>").append("<li>Open <strong>Favorites</strong> tab.</li>").append("<li>Click on <strong>Import Favorites list</strong>.</li>").append("<li>Paste <strong>URL</strong> in the textfield.</li>")}})},error:function(){a(this).html(e.settings.errorMsg)}})},gerritReviewCount:function(){var b=this,c=this.settings.username,d=this.settings.apiUrl,e=d+"/account/profile/"+c+"/gerrit";a.ajax(e,{context:this.element,success:function(c){var d=c.merged_changes_count;a(this).children("strong").text(d+b.plurialString(" review",d)),d>0&&a(this).attr({href:b.settings.gerritUrl+"/#/q/owner:"+b.settings.username})},error:function(){a(this).html(b.settings.errorMsg)}})},gerritReviews:function(){function b(b){function d(){function b(b,d){var e=a("<table></table>").attr({width:"100%",class:"table",id:b}),f=a("<tr></tr>"),g=a("<th></th>"),h=a("<td></td>");f.append(g.clone().text("Subject").attr("width","70%")),f.append(g.clone().text("Status").attr({width:"18%",class:"text-center"})),f.append(g.clone().text("Updated").attr({width:"12%",class:"text-center"})),e.append(f);var i=a("<a></a>");a.each(d,function(b,d){f=a("<tr></tr>");var g="";d.mergeable===!1&&(g="Merge Conflict",f.addClass("warning"));var j=d.updated.substring(0,d.updated.indexOf(" "));f.append(h.clone().html(i.clone().attr({href:c.settings.gerritUrl+"/"+d._number}).text(d.subject)).append("<br/>"+d.project)),f.append(h.clone().text(g).attr("class","text-center")),f.append(h.clone().text(j).attr("class","text-center")),e.append(f)});var j=a("<div></div>").attr({class:"table-responsive"});return j.append(e),j}a.each(i,function(d,e){var f="";switch(e[0]){case"gerrit-outgoing":f="Outgoing Reviews";break;case"gerrit-incoming":f="Incoming Reviews"}var g=a("<h4></h4>").addClass("h4").text(f);return a(c.element).append(g),0===e[1].length?void a(c.element).append('<div class="alert alert-warning" role="alert">There are no '+f.toLowerCase()+" for this user.</div>"):(a(c.element).append(b(e[0],e[1])),void a(c.element).append(c.getPaginationBar(e[1].length,e[0])))});var d=a("<a></a>").attr({href:c.settings.gerritUrl+"/#/q/owner:"+c.settings.username,class:"btn btn-primary btn-sm",style:"display:block"}).html('<i class="fa fa-angle-double-right" aria-hidden="true"></i> More');a(c.element).append(d)}function e(b,d,f){return d="undefined"!=typeof d?d:100,f="undefined"!=typeof f?f:0,b+="&start="+f+"&n="+d,a.ajax(b,{dataType:"gerrit_XSSI",context:c.element,converters:{"text gerrit_XSSI":function(a){var b=a.substring(a.indexOf("\n")+1);return jQuery.parseJSON(b)}},success:function(g){var h=Object,j=Object;0!==g[0].length&&(a.merge(i[0][1],g[0]),h=g[0][g[0].length-1]),0!==g[1].length&&(a.merge(i[1][1],g[1]),j=g[1][g[1].length-1]),"_more_changes"in h&&h._more_changes===!0||"_more_changes"in j&&j._more_changes===!0?e(b,d,f+d):a(c.element).trigger("drawTableEvent")},error:function(b){400===b.status?a(this).html(c.settings.gerritUserNotFoundMsg):a(this).html(c.settings.errorMsg),h=!0}})}var f=100,g=0,h=!1,i=[["gerrit-outgoing",[]],["gerrit-incoming",[]]];a(c.element).on("drawTableEvent",d),e(b,f,g)}var c=this,d=this.settings.gerritUrl+"/changes/?q=owner:"+this.settings.username+"+status:open&q=reviewer:"+this.settings.username+"+status:open+-owner:"+this.settings.username+"&pp=0";a(this.element).append(a("<h2>Eclipse Gerrit</h2>").addClass("h3")),a(this.element).append("<p>Gerrit is a web based code review system, facilitating online code reviews for projects using the Git version control system.</p>"),b(d)},recentEvents:function(){function b(a,b){return a.dateTime-b.dateTime}var c=this;a.ajax(this.settings.eventUrl,{context:this.element,success:function(d){var e=new Date,f=[];for(var g in d.events)d.events[g].dateTime=new Date(d.events[g].date),d.events[g].dateTime>=e&&f.push(d.events[g]);f.sort(b);var h=a("<ul></ul>").attr({class:"nav",style:"margin:0"});for(var i in f.slice(0,5)){var j=f[i].dateTime,k=c.dateFormat(j),l=a("<a>").attr({href:f[i].infoLink}).html(f[i].title+"<br/><small>"+k+"</small>"),m=a("<li></li>").append(l);h.append(m)}a(this).children(".loading").remove(),a(this).append(h);var n=a("<a>").attr({href:"http://events.eclipse.org",class:"btn btn-simple btn-sm"}).text("more");a(this).append(n)},error:function(){a(this).html(c.settings.errorMsg)}})},plurialString:function(a,b){return b>1&&(a+="s"),a},dateFormat:function(a){var b=["January","February","March","April","May","June","July","August","September","October","November","December"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=a.getFullYear(),e=b[a.getMonth()],f=c[a.getDay()],g=a.getDate(),h=("0"+a.getHours()).slice(-2),i=("0"+a.getMinutes()).slice(-2),j=f+", "+e+" "+g+", "+d+" - "+h+":"+i;return j},linkHeaderParser:function(a){function b(a,b){if("undefined"==typeof b||"undefined"==typeof a)return 0;for(var c=a.substr(a.lastIndexOf("?")+1),d=c.split("&"),e=0;e<d.length;e++){var f=d[e].split("=");if(decodeURIComponent(f[0])===b)return decodeURIComponent(f[1])}return 0}var c=this;if(this.links=0,this.getLastPageNum=function(){return"undefined"==typeof c.links.last?0:b(c.links.last,"page")},this.getPageSize=function(){return"undefined"==typeof c.links.first?0:b(c.links.first,"pagesize")},"undefined"!=typeof a&&null!==a){for(var d=a.split(","),e={},f=0;f<d.length;f++){d[f]=d[f].replace("&amp;","&");var g=d[f].split(";");if(!(g.length<2)){var h=g[0].replace(/<(.*)>/,"$1").trim(),i=g[1].replace(/rel="(.*)"/,"$1").trim();e[i]=h}}this.links=e}},getPaginationBar:function(b,c){function d(b,c,d){var f=a("<li></li>"),g=a("<ul></ul>").addClass("pagination");"undefined"!=typeof d&&g.attr({"data-eclipseFdnApi-elementID":d});var h=!1,i="",j=1,k=b,l=function(){var b=a(this),c=b.attr("data-goto-page"),d=b.parents(".pagination").eq(0),e=d.data("eclipsefdnapiElementid");a("#"+e).trigger("changePageEvent",[c])};if(b>9){j=b-8,c<=5?(k=9,j=1):c<=b-4&&(j=c-4,k=c+4),h=!0;var m=a("<span></span>");i=f.clone().append(m.clone().html("...").attr({"aria-hidden":"true"})).addClass("pager-ellipses disabled")}1!==c&&(g.append(f.clone().addClass("pager-first").html(e("First","first page",1,"<< first").on("click",l))),g.append(f.clone().html(e("Previous","previous page",c-1,"< previous").on("click",l))),h===!0&&j>1&&g.append(i.clone()));var n;for(n=j;n<=k;n++){var o=f.clone(),p=e("Page "+parseInt(n),"page "+parseInt(n),n).on("click",l);c===n&&o.addClass("active"),o.html(p),g.append(o)}return c<b&&(h===!0&&k<b&&g.append(i.clone()),g.append(f.clone().html(e("Next","next page",c+1,"next >").on("click",l))),g.append(f.clone().addClass("pager-last").html(e("Last","last page",b,"last >>").on("click",l)))),g}function e(b,c,d,e){"undefined"==typeof e&&(e=parseInt(d));var f=a("<a></a>");return f.attr({"aria-label":b,href:"#",onclick:"return false;",title:"Go to "+c,"data-goto-page":parseInt(d)}).text(e)}function f(){function b(b){var c=0,e=0,f=[],g=[];switch(d){case"gerrit":case"forum":g[0]=b[0]}return a.each(b,function(b,d){return!!a(d).children().first().is("th")||(c===h.settings.itemsPerPage&&(c=0,g[++e]=f,f=[]),void(f[c++]=d))}),f.length>0&&(g[++e]=f),g}var d,e=a("#"+c),f=[];switch(c){case"gerrit-incoming":case"gerrit-outgoing":d="gerrit",f=b(e.find("tr"));break;case"mpfavorites-list":d="mpfav";break;case"forum-posts":d="forum",f=b(e.find("tr"));break;default:d="generic"}switch(e.data("pageCache",f),e.data("pageCacheType",d),e.data("pageCacheTotalPages",k),e.on("changePageEvent",g),d){case"gerrit":e.trigger("changePageEvent",[1])}}function g(b,c){function e(){if(g.empty(),"undefined"==typeof i[c]){var b=[];switch(h){case"mpfav":case"forum":b.push(c),b.push(g.data("postsPerPage"))}return void g.trigger("fetchPageItemsEvent",b)}g.is("table")&&g.append(i[0]),a.each(i[c],function(a,b){g.append(b)})}function f(){if("undefined"==typeof i[l]){var b=[];i[l]=[],g.is("table")?b=g.find("tr"):g.is("div")&&(b=g.find(".node")),a.each(b,function(b,c){return!!a(c).children().first().is("th")||void i[l].push(c)}),g.data("pageCache",i)}}var g=a(b.currentTarget),h=g.data("pageCacheType"),i=g.data("pageCache"),j=g.attr("id"),k=a("#"+j+"-pager"),l=k.data("currentPage");switch("undefined"!=typeof l&&null!==l||(l=1),"undefined"==typeof c&&(c=1),c=parseInt(c),h){case"gerrit":e();break;default:f(),e()}if(l!==c){var m=g.data("pageCacheTotalPages"),n=d(m,c,j);k.find("ul").replaceWith(n),k.data("currentPage",c)}}var h=this;if("undefined"==typeof b&&(b=1),!(b<=0||b<=h.settings.itemsPerPage)){var i=1,j=a("<nav></nav>").attr({"arial-label":"Page navigation",id:c+"-pager"}).addClass("text-center"),k=Math.ceil(b/h.settings.itemsPerPage),l=d(k,i,c);return j.append(l),"undefined"==typeof a("#"+c).data("pageCache")&&f(),j}}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);